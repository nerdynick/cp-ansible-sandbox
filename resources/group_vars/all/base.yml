#WARNING: Any changes to this file will effect all examples

#Global Vars
ansible_become: true

#If you need to change the user for whatever reason
#ansible_user: ubuntu
#ansible_ssh_user: ubuntu

#EXAMPLE Proxy settings
# proxy_env:
#   http_proxy: http://proxy.example.com
#   https_proxy: https://proxy.example.com
#   no_proxy: .example.com

# To control what version is install. Adjust the following.
#confluent_repo_version: 6.0
#confluent_package_version: 6.0.2

# Monitoring Settings
install_java: true #Disable if you wish to get Java from elsewhere
jolokia_enabled: true #Disables Jolokia download/install
jmxexporter_enabled: true #Enable to install Prometheus

#Global Security
sasl_protocol: none
ssl_enabled: false
ssl_mutual_auth_enabled: false

#Global Settings

#Zookeeper Overrides
zookeeper_custom_properties:
  # Optional, this enables the 4 primary 4 letter words. 
  # By default only `srvr` is enabled. `*` can be used to enable all commands.
  # Do note the ' around the key. This is required by YAML since it starts with a number not a letter.
  '4lw.commands.whitelist': "stat, ruok, srvr, mntr" 
  tcpKeepAlive: 'true' #Assist with a little better network stability

#Confluent Server/Kafka Brokers Overrides
kafka_broker:
  datadir:
  - /var/lib/kafka/data

kafka_broker_custom_properties:
  confluent.support.metrics.enable: "false" #OPTIONAL: This disables remote metrics reporting. By default this is enabled.
  confluent.support.customer.id: anonymous #OPTIONAL: This is the default value. This is strictly here for documentation sake.
  default.replication.factor: "{{ [groups['kafka_broker'] | length, 3] | min }}" # Default is currently 1
  min.insync.replicas: "{{ [[groups['kafka_broker'] | length -1 , 1] | max, 2] | min }}" # Default is currently 1
  log.retention.hours: 3 # IGNORE: Adjusted for use in my small VMs. 
  confluent.metrics.reporter.topic.retention.ms: 10800000 #IGNORE: Adjusted low for test envs. 
  
kafka_broker_service_environment_overrides:
  #IGNORE: The HEAP size is lowered here to handle the smaller VMs I launch this on
  KAFKA_HEAP_OPTS: "-Xms1g -Xmx4g -XX:MetaspaceSize=96m -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:G1HeapRegionSize=16M -XX:MinMetaspaceFreeRatio=50 -XX:MaxMetaspaceFreeRatio=80"

#Control Center Overrides
control_center_rocksdb_path: "/var/lib/confluent/control-center/rocksdb"
control_center_custom_properties: {}
  # confluent.controlcenter.ksql.enable: 'true' #Set to false if no KSQL Servers
  # confluent.controlcenter.schema.registry.enable: 'true' # Set to false if no Schema Registry

#ksqlDB Overrides

#Schema Registry Overrides
schema_registry_custom_properties: {}
  # master.eligibility: 'true'

hostname_aliasing_enabled: true